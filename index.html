<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Zip Zerver - Site Viewer</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Spline+Sans+Mono:wght@600;700&family=Work+Sans:wght@400;500;700&display=block"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="top-buttons">
      <button class="upload-btn" id="upload-btn">Select zip...</button>
      <button class="why-button" popovertarget="why-popover">About</button>
    </div>
    <div id="why-popover" popover>
      <p><strong>Why not just open the file?</strong></p>
      <p class="popover-options">
        Website archives like Playwright reports with traces need to be served from an actual web
        server, not a <code>file://</code> URL, to work properly. This tool serves your ZIP contents
        locally in the browser.
      </p>
      <p class="popover-features">Drag, drop, preview.</p>
      <p class="popover-privacy">All processing happens locally. No data leaves your browser.</p>
      <p class="popover-link">
        <a href="https://github.com/dsmmcken/zip-zerver" target="_blank">GitHub</a>
      </p>
    </div>

    <div class="container" id="main-container">
      <div class="input-wrapper" id="input-wrapper">
        <div class="drop-zone" id="drop-zone">
          <div class="drop-zone-content">
            <svg class="main-title" viewBox="0 0 420 105" preserveAspectRatio="xMidYMid meet">
              <text class="title-text" x="210" y="58" text-anchor="middle">Zip Zerver</text>
              <text class="subtitle-text" x="210" y="95" text-anchor="middle">
                Drag & drop zip static sites to preview locally.
              </text>
            </svg>
          </div>

          <div class="error-face">
            <div class="error-face-emoji">•`_´•</div>
            <div class="error-face-message" id="error-message"></div>
          </div>

          <footer class="footer">Drag & drop ZIP. No data leaves your browser.</footer>

          <div class="loading" id="loading">
            <div class="spinner"></div>
            <div id="loading-text">Extracting report...</div>
          </div>
        </div>
      </div>
    </div>

    <iframe class="report-frame" id="report-frame"></iframe>
    <input type="file" id="file-input" accept=".zip" />

    <script src="border.js"></script>
    <script src="drag-over.js"></script>
    <script type="module" src="script.js"></script>
  </body>
</html>
